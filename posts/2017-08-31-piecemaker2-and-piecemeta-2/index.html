<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Piecemaker2 and Piecemeta 2 | CCOnline</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=generator content="Hugo 0.74.3"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link href=/dist/css/app.4fc0b62e4b82c997bb0041217cd6b979.css rel=stylesheet><meta property="og:title" content="Piecemaker2 and Piecemeta 2"><meta property="og:description" content="report"><meta property="og:type" content="article"><meta property="og:url" content="https://cconline.naotohieda.com/posts/2017-08-31-piecemaker2-and-piecemeta-2/"><meta property="article:published_time" content="2017-08-31T00:00:00+00:00"><meta property="article:modified_time" content="2017-08-31T00:00:00+00:00"><meta itemprop=name content="Piecemaker2 and Piecemeta 2"><meta itemprop=description content="report"><meta itemprop=datePublished content="2017-08-31T00:00:00+00:00"><meta itemprop=dateModified content="2017-08-31T00:00:00+00:00"><meta itemprop=wordCount content="406"><meta itemprop=keywords content="ccl,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Piecemaker2 and Piecemeta 2"><meta name=twitter:description content="report"></head><body class="ma0 avenir bg-near-white"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">CCOnline</a><div class="flex-l items-center"></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class=mt3><a href="https://www.facebook.com/sharer.php?u=https://cconline.naotohieda.com/posts/2017-08-31-piecemaker2-and-piecemeta-2/" class="facebook no-underline" aria-label="share on Facebook"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765 50.32h6.744V33.998h4.499l.596-5.624h-5.095l.007-2.816c0-1.466.14-2.253 2.244-2.253h2.812V17.68h-4.5c-5.405.0-7.307 2.729-7.307 7.317v3.377h-3.369v5.625h3.369V50.32zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></a><a href="https://twitter.com/share?url=https://cconline.naotohieda.com/posts/2017-08-31-piecemaker2-and-piecemeta-2/&text=Piecemaker2%20and%20Piecemeta%202" class="twitter no-underline" aria-label="share on Twitter"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://cconline.naotohieda.com/posts/2017-08-31-piecemaker2-and-piecemeta-2/&title=Piecemaker2%20and%20Piecemeta%202" class="linkedin no-underline" aria-label="share on LinkedIn"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30C64 50.568 50.568 64 34 64zM26.354 48.137V27.71h-6.789v20.427H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a></div><h1 class="f1 athelas mt3 mb1">Piecemaker2 and Piecemeta 2</h1><p class=tracked>By <strong>Naoto Hieda</strong></p><time class="f6 mv4 dib tracked" datetime=2017-08-31T00:00:00Z>August 31, 2017</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>After writing <a href=https://cconline.naotohieda.com/posts/2017-08-28-piecemaker2-and-piecemeta-1/>the last article</a>, I found a solution for the sync problems. The principle is to make sure that the internal clocks of all the equipment is synchronized (for example, check <a href=http://time.is>time.is</a> before recording). This is tricky for action cameras or camcorders but you can always correct the offset later. For video recordings, you can access the metadata of the video file by <a href=https://mediaarea.net/en/MediaInfo>MediaInfo</a> to check the &ldquo;Encoded Date.&rdquo; Convert this date and time into epoch timestamp on <a href=https://unixtimestamp.com>Epech Unix Time Stamp Converter</a> and use the converted value on Piecemaker2. Now the video&rsquo;s timestamp is aligned to the time in the real world (up to a second of precision). I am planning to write a Python script to automate this process if I can find an appropriate library (<strong>TODO1</strong>).</p><p>The rest of the procedure is quite simple as we only need to stick to the epoch timestamp and no need to correct offsets. I edited Pathrefinder on <a href=https://github.com/micuat/Pathrefinder>the dev branch</a> so that it stores the geometry data every frame with epoch timestamp. This can be further processed by <a href=https://gist.github.com/micuat/79872a575f244332bb0c84fd84b6aafe>a Python script</a> to format into TRAC file, which can be read by Piecemeta. Note that Piecemeta does not store timestamps, so do not forget to set the timestamp on Piecemaker2. To do this, take the timestamp of the first frame of the geometry data and use this timestamp for the score scene on Piecemaker2.</p><p>For Kinect tracking, use <a href=https://github.com/micuat/OSCeleton-KinectSDK2/tree/piecemeta>OSCeleton</a> to output the joint data. Before, I recorded the Kinect stream by Kinect Studio, but then, it is more difficult to recover the original timestamps from the recording. Rather I recommend to output the data in real-time so that no adjustment is needed. The log file can be converted by <a href=https://gist.github.com/micuat/b57a6becc4943eebfb8b2aa206a7a1c4>this script</a> to TRAC file ready to be uploaded to Piecemeta. Note that I could not find a way to output csv from Pandas library with epoch timestamp so the timestamp is formated as hour-minute-second-milisecond and not epoch. When you set the timestamp on Piecemaker2, please use the value from the original OSCeleton log file (note that its timestamps are epoch but in milliseconds not seconds).</p><p>At last, you can use
<a href=https://gist.github.com/micuat/9b95841b4702008035fe073534a48f3d>a Processing sketch</a> to play back the video, skeletal tracking and Pathfinder score data in sync. The current Processing sketch is a quick and dirty hack so it should be simplified (<strong>TODO2</strong>).</p><blockquote class=instagram-media data-instgrm-version=7 style="background:#fff;border:0;border-radius:3px;box-shadow:0 0 1px 0 rgba(0,0,0,.5),0 1px 10px 0 rgba(0,0,0,.15);margin:1px;max-width:658px;padding:0;width:99.375%;width:-webkit-calc(100% - 2px);width:calc(100% - 2px)"><div style=padding:8px><div style="background:#f8f8f8;line-height:0;margin-top:40px;padding:50% 0;text-align:center;width:100%"><div style="background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC);display:block;height:44px;margin:0 auto -44px;position:relative;top:-22px;width:44px"></div></div><p style="color:#c9c8cd;font-family:Arial,sans-serif;font-size:14px;line-height:17px;margin-bottom:0;margin-top:8px;overflow:hidden;padding:8px 0 7px;text-align:center;text-overflow:ellipsis;white-space:nowrap"><a href=https://www.instagram.com/p/BYeH1pUldia/ style=color:#c9c8cd;font-family:Arial,sans-serif;font-size:14px;font-style:normal;font-weight:400;line-height:17px;text-decoration:none target=_blank>A post shared by Naoto Hi√©da (@micuat)</a> on <time style=font-family:Arial,sans-serif;font-size:14px;line-height:17px datetime=2017-08-31T19:55:25+00:00>Aug 31, 2017 at 12:55pm PDT</time></p></div></blockquote><script async defer src=//platform.instagram.com/en_US/embeds.js></script><ul class=pa0><li class=list><a href=/tags/ccl class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">ccl</a></li></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links"><p class="f5 b mb3">Related</p><ul class="pa0 list"><li class=mb2><a href=/posts/2017-08-28-piecemaker2-and-piecemeta-1/>Piecemaker2 and Piecemeta 1</a></li><li class=mb2><a href=/posts/2017-05-10-ccl8-choreographic-thinking/>CCL8: Choreographic Thinking Input</a></li><li class=mb2><a href=/posts/2015-09-19-12-dimensions-of-movement/>12 dimensions of movement</a></li><li class=mb2><a href=/posts/2015-09-19-ccl5-choreographic-thinking/>CCL5: Choreographic Thinking Input</a></li><li class=mb2><a href=/posts/2015-08-31-ccl4-choreographic-thinking/>CCL4: Choreographic Thinking Input</a></li><li class=mb2><a href=/posts/2015-08-31-ccl4-trackable-qualities/>CCL4: Trackable Qualities</a></li></ul></div></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://cconline.naotohieda.com/>&copy; CCOnline 2020</a><div></div></div></footer><script src=/dist/js/app.3fc0f988d21662902933.js></script></body></html>